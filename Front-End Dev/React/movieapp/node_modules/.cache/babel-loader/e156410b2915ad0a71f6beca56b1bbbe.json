{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Syukri Rahiman\\\\React\\\\movieapp\\\\src\\\\Showtimes.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Showtimes.css';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper'; // const cinema = this.props.location.state.cinema;\n// const movie_id = this.props.location.state.movie_id\n\nclass Showtimes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cinema: this.props.location.state.cinema,\n      movie_id: this.props.location.state.movie_id,\n      result: [],\n      cinema_id: '',\n      city_id: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    // this.displayShowtimes()\n    const result = this.state.result;\n    console.log(result);\n    return React.createElement(\"div\", {\n      id: \"showtime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, this.state.cinema), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.state.movie_id), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.cinema_id), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, this.state.city_id), React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.displayShowtimes()\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Username\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Mark\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Otto\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"@mdo\")), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Jacob\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Thornton\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"@fat\")), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"td\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Larry the Bird\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"@twitter\")))), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"S/No\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Timeshow\")), this.state.result.map((value, index) => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, index), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, value.start_at))))) // this.displayShowtimes()\n    ; // this.displayShowtimes()\n  }\n\n  getData() {\n    var xhr = new XMLHttpRequest();\n    var cinema_name = this.state.cinema;\n    let urlCinemas = \"https://api.internationalshowtimes.com/v4/cinemas/?apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\n    xhr.addEventListener('load', () => {\n      // update the state of the component with the result here\n      var resp = JSON.parse(xhr.responseText);\n\n      for (let i = 0; i < resp.cinemas.length; i++) {\n        var cinema = resp.cinemas[i];\n\n        if (cinema_name.toLowerCase() == cinema.name.toLowerCase()) {\n          this.setState({\n            cinema_id: cinema.id,\n            city_id: cinema.city_id\n          });\n        }\n      }\n\n      console.log(this.state);\n      var xhr2 = new XMLHttpRequest();\n      var city_id = this.state.city_id;\n      var movie_id = this.state.movie_id;\n      console.log(city_id);\n      console.log(movie_id);\n      let urlShowtimes = \"https://api.internationalshowtimes.com/v4/showtimes?city_ids=\" + city_id + \"&movie_id=\" + movie_id + \"&apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\n      xhr2.addEventListener('load', () => {\n        // update the state of the component with the result here\n        var result_arr = [];\n        var resp = JSON.parse(xhr2.responseText);\n        console.log(this.state.cinema_id);\n        console.log(movie_id);\n\n        for (let i = 0; i < resp.showtimes.length; i++) {\n          var showtime = resp.showtimes[i]; // console.log(showtime);\n\n          if (showtime.cinema_id == this.state.cinema_id && showtime.movie_id == movie_id) {\n            result_arr.push(showtime);\n          }\n        }\n\n        console.log(result_arr);\n        this.setState({\n          result: result_arr\n        });\n      });\n      xhr2.open('GET', urlShowtimes);\n      xhr2.send();\n      console.log(this.state);\n    });\n    xhr.open('GET', urlCinemas);\n    xhr.send();\n  }\n\n  displayShowtimes() {\n    // this.getData();\n    let r = this.state.result;\n    var test = '';\n    var result = \"<table> <tr> <th>S/No</th> <th>Time</th></tr>\";\n    console.log(r);\n\n    for (let i = 0; i < r.length; i++) {\n      result += \"<tr><td>\" + (i + 1) + \"</td><td>\" + r[i].start_at + \"</td></tr>\";\n      test += i + 1 + \" \" + r[i].start_at + \" \";\n    }\n\n    result += \"</table>\"; // return \"<div id  = 'showtime' dangerouslySetInnerHTML={{__html:\"+result+'}}></div>'\n\n    return result; // this.document.getElementById(\"showtime\").innerHTML = result;\n  }\n\n}\n\nexport default Showtimes;","map":{"version":3,"sources":["C:/Users/Syukri Rahiman/React/movieapp/src/Showtimes.js"],"names":["React","ReactDOM","withStyles","makeStyles","Table","TableBody","TableCell","TableHead","TableRow","Paper","Showtimes","Component","constructor","props","state","cinema","location","movie_id","result","cinema_id","city_id","componentDidMount","getData","render","console","log","__html","displayShowtimes","map","value","index","start_at","xhr","XMLHttpRequest","cinema_name","urlCinemas","addEventListener","resp","JSON","parse","responseText","i","cinemas","length","toLowerCase","name","setState","id","xhr2","urlShowtimes","result_arr","showtimes","showtime","push","open","send","r","test"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Showtimes.css'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n// const cinema = this.props.location.state.cinema;\r\n// const movie_id = this.props.location.state.movie_id\r\n\r\n\r\nclass Showtimes extends React.Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            cinema: this.props.location.state.cinema,\r\n            movie_id: this.props.location.state.movie_id,\r\n            result: [],\r\n            cinema_id: '',\r\n            city_id: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        // this.displayShowtimes()\r\n        const result = this.state.result;\r\n\r\n        console.log(result);\r\n        return (\r\n            <div id=\"showtime\">\r\n                <h1>{this.state.cinema}</h1>\r\n                <h1>{this.state.movie_id}</h1>\r\n                <h1>{this.state.cinema_id}</h1>\r\n                <h1>{this.state.city_id}</h1>\r\n                {/* <h1>{this.state.result[0]}</h1> */}\r\n\r\n\r\n                {/* <div id=\"showtime\"></div> */}\r\n                {/* {this.displayShowtimes()} */}\r\n\r\n                <div dangerouslySetInnerHTML={{ __html: this.displayShowtimes() }} />\r\n\r\n                {/* <ul>\r\n                    {result.map((value, index) => {\r\n                        return <li key={index}>{value.start_at}</li>\r\n                    })}\r\n                </ul> */}\r\n\r\n<Table striped bordered hover variant=\"dark\">\r\n  <thead>\r\n    <tr>\r\n      <th>#</th>\r\n      <th>First Name</th>\r\n      <th>Last Name</th>\r\n      <th>Username</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td>1</td>\r\n      <td>Mark</td>\r\n      <td>Otto</td>\r\n      <td>@mdo</td>\r\n    </tr>\r\n    <tr>\r\n      <td>2</td>\r\n      <td>Jacob</td>\r\n      <td>Thornton</td>\r\n      <td>@fat</td>\r\n    </tr>\r\n    <tr>\r\n      <td>3</td>\r\n      <td colSpan=\"2\">Larry the Bird</td>\r\n      <td>@twitter</td>\r\n    </tr>\r\n  </tbody>\r\n</Table>\r\n\r\n                \r\n                <table>\r\n                            <tr>\r\n                                <th>S/No</th>\r\n                                <th >Timeshow</th>\r\n                            </tr>\r\n\r\n                        \r\n                            {this.state.result.map( (value,index)=> (\r\n                                <tr>\r\n                                    <td>\r\n                                        {index}\r\n                                    </td>\r\n                                    <td>{value.start_at}</td>\r\n                                </tr>\r\n                            ))}\r\n                     \r\n                    </table>\r\n\r\n                {/* <Paper className=''>\r\n                    <Table className='' aria-label=\"customized table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>S/No</TableCell>\r\n                                <TableCell align=\"right\">Timeshow</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {this.state.result.map(time => (\r\n                                <TableRow key={time}>\r\n                                    <TableCell component=\"th\" scope=\"row\">\r\n                                        {time}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"right\">{time}</TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </Paper> */}\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n            // this.displayShowtimes()\r\n\r\n        )\r\n\r\n\r\n        // this.displayShowtimes()\r\n    }\r\n\r\n\r\n\r\n    getData() {\r\n        var xhr = new XMLHttpRequest()\r\n        var cinema_name = this.state.cinema;\r\n        let urlCinemas = \"https://api.internationalshowtimes.com/v4/cinemas/?apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\r\n        xhr.addEventListener('load', () => {\r\n            // update the state of the component with the result here\r\n            var resp = JSON.parse(xhr.responseText);\r\n            for (let i = 0; i < resp.cinemas.length; i++) {\r\n                var cinema = resp.cinemas[i];\r\n                if (cinema_name.toLowerCase() == cinema.name.toLowerCase()) {\r\n                    this.setState({\r\n                        cinema_id: cinema.id,\r\n                        city_id: cinema.city_id,\r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n            console.log(this.state);\r\n\r\n            var xhr2 = new XMLHttpRequest()\r\n            var city_id = this.state.city_id;\r\n            var movie_id = this.state.movie_id;\r\n\r\n            console.log(city_id)\r\n            console.log(movie_id)\r\n            let urlShowtimes = \"https://api.internationalshowtimes.com/v4/showtimes?city_ids=\" + city_id + \"&movie_id=\" + movie_id + \"&apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\r\n            xhr2.addEventListener('load', () => {\r\n                // update the state of the component with the result here\r\n                var result_arr = [];\r\n                var resp = JSON.parse(xhr2.responseText);\r\n                console.log(this.state.cinema_id)\r\n                console.log(movie_id)\r\n                for (let i = 0; i < resp.showtimes.length; i++) {\r\n                    var showtime = resp.showtimes[i];\r\n                    // console.log(showtime);\r\n                    if (showtime.cinema_id == this.state.cinema_id && showtime.movie_id == movie_id) {\r\n                        result_arr.push(showtime);\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                console.log(result_arr);\r\n\r\n                this.setState({\r\n                    result: result_arr,\r\n                });\r\n\r\n            })\r\n            xhr2.open('GET', urlShowtimes)\r\n            xhr2.send()\r\n\r\n            console.log(this.state);\r\n\r\n\r\n\r\n        })\r\n        xhr.open('GET', urlCinemas)\r\n        xhr.send()\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    displayShowtimes() {\r\n\r\n        // this.getData();\r\n        let r = this.state.result;\r\n        var test = '';\r\n        var result = \"<table> <tr> <th>S/No</th> <th>Time</th></tr>\";\r\n        console.log(r);\r\n        for (let i = 0; i < r.length; i++) {\r\n            result += \"<tr><td>\" + (i + 1) + \"</td><td>\" + r[i].start_at + \"</td></tr>\";\r\n            test += (i + 1) + \" \" + r[i].start_at + \" \";\r\n        }\r\n        result += \"</table>\";\r\n\r\n        // return \"<div id  = 'showtime' dangerouslySetInnerHTML={{__html:\"+result+'}}></div>'\r\n\r\n        return result;\r\n\r\n        // this.document.getElementById(\"showtime\").innerHTML = result;\r\n    }\r\n}\r\n\r\nexport default Showtimes;"]},"metadata":{},"sourceType":"module"}