{"ast":null,"code":"import _objectWithoutProperties from \"/Users/syukrirahiman/OneDrive - Singapore Management University/React/movieapp/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/syukrirahiman/OneDrive - Singapore Management University/React/movieapp/src/Plan.js\";\nimport React from 'react';\nimport deburr from 'lodash/deburr';\nimport Autosuggest from 'react-autosuggest';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { BrowserRouter as Router, Route, Switch, HashRouter, withRouter, Link } from 'react-router-dom';\nimport { observer } from 'mobx-react';\nimport ReactDOM from 'react-dom';\nconst suggestions = [];\nconst movieList = [];\nconst cityId = '';\nconst redirect = false;\nconst apikey = \"5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\n\nfunction setMovieArr(input) {\n  var result_id = '';\n  movieList.length = 0;\n\n  for (let i = 0; i < suggestions.length; i++) {\n    var cinema = suggestions[i];\n\n    if (cinema.label.toLowerCase() == input.toLowerCase()) {\n      result_id = cinema.id;\n    }\n  }\n\n  if (result_id != '') {\n    var xhr = new XMLHttpRequest();\n    let url = \"https://api.internationalshowtimes.com/v4/movies/?cinema_id=\" + result_id + \"&apikey=\" + apikey;\n    xhr.addEventListener('load', () => {\n      // update the state of the component with the result here\n      var resp = JSON.parse(xhr.responseText);\n\n      for (let i = 0; i < resp.movies.length; i++) {\n        var movie = resp.movies[i];\n        movieList.push(movie);\n      }\n\n      console.log(movieList); // var acinema = resp.cinemas[0];\n      // console.log(acinema.name);\n    });\n    xhr.open('GET', url);\n    xhr.send();\n  }\n}\n\nfunction constructCinemasSuggestions() {\n  var xhr = new XMLHttpRequest();\n  let url = \"https://api.internationalshowtimes.com/v4/cinemas/?apikey=\" + apikey;\n  xhr.addEventListener('load', () => {\n    // update the state of the component with the result here\n    var resp = JSON.parse(xhr.responseText); //   this.setState({ results: resp.cinemas[0].location });\n\n    var cinemasArr = [];\n    suggestions.length = 0;\n\n    for (let i = 0; i < resp.cinemas.length; i++) {\n      var cinema = resp.cinemas[i];\n      suggestions.push({\n        label: cinema.name,\n        id: cinema.id,\n        city_id: cinema.city_id\n      });\n    }\n\n    console.log(suggestions); // var acinema = resp.cinemas[0];\n    // console.log(acinema.name);\n  });\n  xhr.open('GET', url);\n  xhr.send();\n}\n\nfunction renderInputComponent(inputProps) {\n  const classes = inputProps.classes,\n        _inputProps$inputRef = inputProps.inputRef,\n        inputRef = _inputProps$inputRef === void 0 ? () => {} : _inputProps$inputRef,\n        ref = inputProps.ref,\n        other = _objectWithoutProperties(inputProps, [\"classes\", \"inputRef\", \"ref\"]);\n\n  return React.createElement(TextField, Object.assign({\n    name: \"cinema\",\n    InputProps: {\n      inputRef: node => {\n        ref(node);\n        inputRef(node);\n      },\n      classes: {\n        input: classes.input\n      }\n    }\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }));\n}\n\nfunction renderSuggestion(suggestion, {\n  query,\n  isHighlighted\n}) {\n  const matches = match(suggestion.label, query);\n  const parts = parse(suggestion.label, matches);\n  return React.createElement(MenuItem, {\n    selected: isHighlighted,\n    component: \"div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, parts.map(part => React.createElement(\"span\", {\n    key: part.text,\n    style: {\n      fontWeight: part.highlight ? 500 : 400\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, part.text))));\n}\n\nfunction getSuggestions(value) {\n  const inputValue = deburr(value.trim()).toLowerCase();\n  const inputLength = inputValue.length;\n  let count = 0;\n  return inputLength === 0 ? [] : suggestions.filter(suggestion => {\n    const keep = count < 5 && suggestion.label.slice(0, inputLength).toLowerCase() === inputValue;\n\n    if (keep) {\n      count += 1;\n    }\n\n    return keep;\n  });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.label;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: 100,\n    flexGrow: 1,\n    display: 'flex',\n    flexWrap: 'wrap',\n    // flexFlow: \"row wrap\",\n    // paddingLeft: 400,\n    paddingTop: 10,\n    marginBottom: 10 // background: \"yellow\",\n    // opacity: 0.2,\n    // marginLeft: auto,\n    // marginRight: auto,\n    // width: 800,\n\n  },\n  formControl: {\n    margin: theme.spacing(3),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n    width: 250\n  },\n  container: {\n    position: 'relative'\n  },\n  suggestionsContainerOpen: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(1),\n    left: 0,\n    right: 0,\n    width: 250\n  },\n  suggestion: {\n    display: 'block',\n    cursor: 'pointer' // padding: '10px 20px',\n    // width:200,\n\n  },\n  suggestionsList: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none' // width: 500,\n\n  },\n  divider: {\n    height: theme.spacing(2)\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  input: {\n    width: 250\n  }\n}));\nexport default function IntegrationAutosuggest() {\n  const SearchBar = () => {\n    return React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, constructCinemasSuggestions(), React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: classes.root,\n      autoComplete: \"off\",\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      className: classes.formControl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Autosuggest, Object.assign({}, autosuggestProps, {\n      inputProps: {\n        //   style: {display : 'inline'},\n        classes,\n        id: 'react-autosuggest-simple',\n        label: 'Cinema',\n        placeholder: 'Search a cinema',\n        value: state.single,\n        onChange: handleChange('single')\n      },\n      theme: {\n        container: classes.container,\n        suggestionsContainerOpen: classes.suggestionsContainerOpen,\n        suggestionsList: classes.suggestionsList,\n        suggestion: classes.suggestion\n      } // style = {{display: 'inline'}}\n      ,\n      renderSuggestionsContainer: options => React.createElement(Paper, Object.assign({}, options.containerProps, {\n        square: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }), options.children),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }))), React.createElement(FormControl, {\n      className: classes.formControl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(Select, {\n      value: values.movie,\n      onChange: handleSelectChange,\n      name: \"movie\",\n      displayEmpty: true,\n      className: classes.selectEmpty,\n      label: \"Movie\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      value: \"\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"Select Movie\"), movieList.map((movie, index) => React.createElement(MenuItem, {\n      key: index,\n      value: movie.id,\n      name: \"movie\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \" \", movie.title)))), React.createElement(FormControl, {\n      className: classes.formControl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      className: classes.button,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Submit\")))));\n  };\n\n  if (state.showForm) {\n    return React.createElement(SearchBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  });\n}","map":{"version":3,"sources":["/Users/syukrirahiman/OneDrive - Singapore Management University/React/movieapp/src/Plan.js"],"names":["React","deburr","Autosuggest","match","parse","TextField","Paper","MenuItem","makeStyles","Button","Grid","InputLabel","FormHelperText","FormControl","Select","axios","Redirect","BrowserRouter","Router","Route","Switch","HashRouter","withRouter","Link","observer","ReactDOM","suggestions","movieList","cityId","redirect","apikey","setMovieArr","input","result_id","length","i","cinema","label","toLowerCase","id","xhr","XMLHttpRequest","url","addEventListener","resp","JSON","responseText","movies","movie","push","console","log","open","send","constructCinemasSuggestions","cinemasArr","cinemas","name","city_id","renderInputComponent","inputProps","classes","inputRef","ref","other","node","renderSuggestion","suggestion","query","isHighlighted","matches","parts","map","part","text","fontWeight","highlight","getSuggestions","value","inputValue","trim","inputLength","count","filter","keep","slice","getSuggestionValue","useStyles","theme","root","height","flexGrow","display","flexWrap","paddingTop","marginBottom","formControl","margin","spacing","minWidth","selectEmpty","marginTop","width","container","position","suggestionsContainerOpen","zIndex","left","right","cursor","suggestionsList","padding","listStyleType","divider","button","IntegrationAutosuggest","SearchBar","handleSubmit","autosuggestProps","placeholder","state","single","onChange","handleChange","options","containerProps","children","values","handleSelectChange","index","title","showForm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport deburr from 'lodash/deburr';\nimport Autosuggest from 'react-autosuggest';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { BrowserRouter as Router, Route, Switch, HashRouter, withRouter, Link } from 'react-router-dom';\nimport { observer } from 'mobx-react';\n\nimport ReactDOM from 'react-dom';\n\n\n\n\n\nconst suggestions = [];\nconst movieList = [];\nconst cityId = '';\nconst redirect = false;\nconst apikey = \"5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\n\nfunction setMovieArr(input) {\n    var result_id = '';\n    movieList.length = 0;\n    for (let i = 0; i < suggestions.length; i++) {\n        var cinema = suggestions[i];\n        if (cinema.label.toLowerCase() == input.toLowerCase()) {\n            result_id = cinema.id;\n        }\n    }\n\n    if (result_id != '') {\n\n        var xhr = new XMLHttpRequest()\n        let url = \"https://api.internationalshowtimes.com/v4/movies/?cinema_id=\" + result_id + \"&apikey=\" + apikey;\n        xhr.addEventListener('load', () => {\n            // update the state of the component with the result here\n            var resp = JSON.parse(xhr.responseText);\n\n\n            for (let i = 0; i < resp.movies.length; i++) {\n                var movie = resp.movies[i];\n                movieList.push(movie);\n            }\n            console.log(movieList);\n            // var acinema = resp.cinemas[0];\n            // console.log(acinema.name);\n\n        })\n        xhr.open('GET', url)\n        xhr.send()\n\n    }\n\n\n}\n\n\nfunction constructCinemasSuggestions() {\n    var xhr = new XMLHttpRequest()\n    let url = \"https://api.internationalshowtimes.com/v4/cinemas/?apikey=\" + apikey;\n    xhr.addEventListener('load', () => {\n        // update the state of the component with the result here\n        var resp = JSON.parse(xhr.responseText);\n        //   this.setState({ results: resp.cinemas[0].location });\n        var cinemasArr = [];\n        suggestions.length = 0;\n        for (let i = 0; i < resp.cinemas.length; i++) {\n            var cinema = resp.cinemas[i];\n            suggestions.push({\n                label: cinema.name,\n                id: cinema.id,\n                city_id: cinema.city_id,\n            });\n        }\n        console.log(suggestions);\n        // var acinema = resp.cinemas[0];\n        // console.log(acinema.name);\n\n    })\n    xhr.open('GET', url)\n    xhr.send()\n\n}\n\nfunction renderInputComponent(inputProps) {\n    const { classes, inputRef = () => { }, ref, ...other } = inputProps;\n\n    return (\n        <TextField\n            name=\"cinema\"\n\n            InputProps={{\n                inputRef: node => {\n                    ref(node);\n                    inputRef(node);\n                },\n                classes: {\n                    input: classes.input,\n                },\n            }}\n            {...other}\n        />\n    );\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n    const matches = match(suggestion.label, query);\n    const parts = parse(suggestion.label, matches);\n\n    return (\n        <MenuItem selected={isHighlighted} component=\"div\">\n            <div>\n                {parts.map(part => (\n                    <span key={part.text} style={{ fontWeight: part.highlight ? 500 : 400 }}>\n                        {part.text}\n                    </span>\n                ))}\n            </div>\n        </MenuItem>\n    );\n}\n\n\n\nfunction getSuggestions(value) {\n    const inputValue = deburr(value.trim()).toLowerCase();\n    const inputLength = inputValue.length;\n    let count = 0;\n\n    return inputLength === 0\n        ? []\n        : suggestions.filter(suggestion => {\n            const keep =\n                count < 5 && suggestion.label.slice(0, inputLength).toLowerCase() === inputValue;\n\n            if (keep) {\n                count += 1;\n            }\n\n            return keep;\n        });\n}\n\nfunction getSuggestionValue(suggestion) {\n    return suggestion.label;\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        height: 100,\n        flexGrow: 1,\n        display: 'flex',\n        flexWrap: 'wrap',\n        // flexFlow: \"row wrap\",\n        // paddingLeft: 400,\n        paddingTop: 10,\n        marginBottom: 10,\n        // background: \"yellow\",\n        // opacity: 0.2,\n        // marginLeft: auto,\n        // marginRight: auto,\n        // width: 800,\n    },\n    formControl: {\n        margin: theme.spacing(3),\n        minWidth: 120,\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2),\n        width: 250,\n    },\n    container: {\n        position: 'relative',\n    },\n    suggestionsContainerOpen: {\n        position: 'absolute',\n        zIndex: 1,\n        marginTop: theme.spacing(1),\n        left: 0,\n        right: 0,\n        width: 250,\n    },\n    suggestion: {\n        display: 'block',\n        cursor: 'pointer',\n        // padding: '10px 20px',\n        // width:200,\n    },\n    suggestionsList: {\n        margin: 0,\n        padding: 0,\n        listStyleType: 'none',\n        // width: 500,\n    },\n    divider: {\n        height: theme.spacing(2),\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    input: {\n        width: 250,\n    }\n}));\n\n\n\nexport default function IntegrationAutosuggest() {\n\n\n   \n    const SearchBar = () => {\n\n        \n       return(<Grid container justify=\"center\">\n            {constructCinemasSuggestions()}\n\n            <Grid>\n                <form className={classes.root} autoComplete=\"off\" onSubmit={handleSubmit}>\n\n                    <FormControl className={classes.formControl} >\n                        <Autosuggest\n\n                            {...autosuggestProps}\n                            inputProps={{\n                                //   style: {display : 'inline'},\n                                classes,\n                                id: 'react-autosuggest-simple',\n                                label: 'Cinema',\n                                placeholder: 'Search a cinema',\n                                value: state.single,\n                                onChange: handleChange('single'),\n                            }}\n                            theme={{\n                                container: classes.container,\n                                suggestionsContainerOpen: classes.suggestionsContainerOpen,\n                                suggestionsList: classes.suggestionsList,\n                                suggestion: classes.suggestion,\n                            }}\n                            // style = {{display: 'inline'}}\n                            renderSuggestionsContainer={options => (\n                                <Paper {...options.containerProps} square>\n                                    {options.children}\n                                </Paper>\n                            )}\n                        />\n                    </FormControl>\n\n                    <FormControl className={classes.formControl}>\n                        <Select\n                            value={values.movie}\n                            onChange={handleSelectChange}\n                            name=\"movie\"\n                            displayEmpty\n                            className={classes.selectEmpty}\n                            label='Movie'\n                        >\n                            <MenuItem value=\"\" disabled>\n                                Select Movie\n                    </MenuItem>\n                            {movieList.map((movie, index) =>\n                                <MenuItem key={index} value={movie.id} name=\"movie\" > {movie.title}</MenuItem>\n                            )}\n                        </Select>\n\n                    </FormControl>\n\n                    <FormControl className={classes.formControl}>\n\n                        <Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\n                            Submit\n            </Button>\n                    </FormControl>\n\n                </form>\n            </Grid>\n        </Grid>);\n    }\n    \n\n    if (state.showForm) {\n        return (  \n                <SearchBar/>   \n        );\n    }\n\n    return (\n            <SearchBar/>\n    );\n\n}"]},"metadata":{},"sourceType":"module"}