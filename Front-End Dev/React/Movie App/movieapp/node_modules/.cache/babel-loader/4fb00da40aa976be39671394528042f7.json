{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Syukri Rahiman\\\\React\\\\movieapp\\\\src\\\\Showtimes.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport './Showtimes.css'; // const cinema = this.props.location.state.cinema;\n// const movie_id = this.props.location.state.movie_id\n\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.background.default\n    }\n  }\n}))(TableRow);\n\nfunction createData(name, calories, fat, carbs, protein) {\n  return {\n    name,\n    calories,\n    fat,\n    carbs,\n    protein\n  };\n}\n\nconst rows = [createData('Frozen yoghurt', 159, 6.0, 24, 4.0), createData('Ice cream sandwich', 237, 9.0, 37, 4.3), createData('Eclair', 262, 16.0, 24, 6.0), createData('Cupcake', 305, 3.7, 67, 4.3), createData('Gingerbread', 356, 16.0, 49, 3.9)];\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing(3),\n    overflowX: 'auto'\n  },\n  table: {\n    minWidth: 700\n  }\n}));\n\nclass Showtimes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cinema: this.props.location.state.cinema,\n      movie_id: this.props.location.state.movie_id,\n      result: [],\n      cinema_id: '',\n      city_id: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n    const classes = useStyles();\n  }\n\n  render() {\n    // this.displayShowtimes()\n    return React.createElement(\"div\", {\n      id: \"showtime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.state.cinema), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.movie_id), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.cinema_id), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.state.city_id), React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.displayShowtimes()\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })) // this.displayShowtimes()\n    ; // this.displayShowtimes()\n  }\n\n  getData() {\n    var xhr = new XMLHttpRequest();\n    var cinema_name = this.state.cinema;\n    let urlCinemas = \"https://api.internationalshowtimes.com/v4/cinemas/?apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\n    xhr.addEventListener('load', () => {\n      // update the state of the component with the result here\n      var resp = JSON.parse(xhr.responseText);\n\n      for (let i = 0; i < resp.cinemas.length; i++) {\n        var cinema = resp.cinemas[i];\n\n        if (cinema_name.toLowerCase() == cinema.name.toLowerCase()) {\n          this.setState({\n            cinema_id: cinema.id,\n            city_id: cinema.city_id\n          });\n        }\n      }\n\n      console.log(this.state);\n    });\n    xhr.open('GET', urlCinemas);\n    xhr.send();\n    var xhr2 = new XMLHttpRequest();\n    var city_id = this.state.city_id;\n    var movie_id = this.state.movie_id;\n    let urlShowtimes = \"https://api.internationalshowtimes.com/v4/showtimes?city_ids=\" + city_id + \"&movie_id=\" + movie_id + \"&apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\n    xhr2.addEventListener('load', () => {\n      // update the state of the component with the result here\n      var result_arr = [];\n      var resp = JSON.parse(xhr2.responseText);\n      console.log(this.state.cinema_id);\n      console.log(movie_id);\n\n      for (let i = 0; i < resp.showtimes.length; i++) {\n        var showtime = resp.showtimes[i]; // console.log(showtime);\n\n        if (showtime.cinema_id == this.state.cinema_id && showtime.movie_id == movie_id) {\n          result_arr.push(showtime);\n        }\n      }\n\n      console.log(result_arr);\n      this.setState({\n        result: result_arr\n      });\n    });\n    xhr2.open('GET', urlShowtimes);\n    xhr2.send();\n    console.log(this.state);\n  }\n\n  displayShowtimes() {\n    // this.getData();\n    let r = this.state.result;\n    var test = '';\n    var result = \"<table> <tr> <th>S/No</th> <th>Time</th></tr>\";\n    var mresult = \"<Paper className={classes.root}><Table className={classes.table} aria-label='customized table'><TableHead><TableRow>\";\n    mresult += \"<StyledTableCell>S/No</StyledTableCell>\";\n    mresult += \" <StyledTableCell>Showtime</StyledTableCell> </TableRow></TableHead><TableBody>\";\n    console.log(r);\n\n    for (let i = 0; i < r.length; i++) {\n      result += \"<tr><td>\" + (i + 1) + \"</td><td>\" + r[i].start_at + \"</td></tr>\"; // mresult += \" <StyledTableRow key=\"+(i+1)+\"><StyledTableCell component='th' scope='row'>\"+(i+1)+\"</StyledTableCell>\";\n      // mresult+= \"<StyledTableCell align='right'>\"+r[i].start_at+\"</StyledTableCell>\"\n\n      test += i + 1 + \" \" + r[i].start_at + \" \";\n    }\n\n    result += \"</table>\";\n    mresult += \"</StyledTableRow>))}</TableBody></Table></Paper>\"; // return \"<div id  = 'showtime' dangerouslySetInnerHTML={{__html:\"+result+'}}></div>'\n\n    return mresult; // this.document.getElementById(\"showtime\").innerHTML = result;\n  }\n\n}\n\nexport default Showtimes;","map":{"version":3,"sources":["C:/Users/Syukri Rahiman/React/movieapp/src/Showtimes.js"],"names":["React","ReactDOM","withStyles","makeStyles","Table","TableBody","TableCell","TableHead","TableRow","Paper","StyledTableCell","theme","head","backgroundColor","palette","common","black","color","white","body","fontSize","StyledTableRow","root","background","default","createData","name","calories","fat","carbs","protein","rows","useStyles","width","marginTop","spacing","overflowX","table","minWidth","Showtimes","Component","constructor","props","state","cinema","location","movie_id","result","cinema_id","city_id","componentDidMount","getData","classes","render","__html","displayShowtimes","xhr","XMLHttpRequest","cinema_name","urlCinemas","addEventListener","resp","JSON","parse","responseText","i","cinemas","length","toLowerCase","setState","id","console","log","open","send","xhr2","urlShowtimes","result_arr","showtimes","showtime","push","r","test","mresult","start_at"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n\r\nimport './Showtimes.css'\r\n\r\n// const cinema = this.props.location.state.cinema;\r\n// const movie_id = this.props.location.state.movie_id\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n      backgroundColor: theme.palette.common.black,\r\n      color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n      fontSize: 14,\r\n    },\r\n  }))(TableCell);\r\n  \r\n  const StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n    },\r\n  }))(TableRow);\r\n  \r\n  function createData(name, calories, fat, carbs, protein) {\r\n    return { name, calories, fat, carbs, protein };\r\n  }\r\n  \r\n  const rows = [\r\n    createData('Frozen yoghurt', 159, 6.0, 24, 4.0),\r\n    createData('Ice cream sandwich', 237, 9.0, 37, 4.3),\r\n    createData('Eclair', 262, 16.0, 24, 6.0),\r\n    createData('Cupcake', 305, 3.7, 67, 4.3),\r\n    createData('Gingerbread', 356, 16.0, 49, 3.9),\r\n  ];\r\n  \r\n  const useStyles = makeStyles(theme => ({\r\n    root: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(3),\r\n      overflowX: 'auto',\r\n    },\r\n    table: {\r\n      minWidth: 700,\r\n    },\r\n  }));\r\n\r\n\r\nclass Showtimes extends React.Component {\r\n    \r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            cinema: this.props.location.state.cinema,\r\n            movie_id: this.props.location.state.movie_id,\r\n            result: [],\r\n            cinema_id: '',\r\n            city_id: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        const classes = useStyles();\r\n\r\n    }\r\n    \r\n\r\n    render() {\r\n        \r\n      \r\n\r\n        // this.displayShowtimes()\r\n        return (\r\n            <div id =\"showtime\">\r\n                <h1>{this.state.cinema}</h1>\r\n                <h1>{this.state.movie_id}</h1>\r\n                <h1>{this.state.cinema_id}</h1>\r\n                <h1>{this.state.city_id}</h1>\r\n\r\n\r\n                {/* <div id=\"showtime\"></div> */}\r\n                {/* {this.displayShowtimes()} */}\r\n\r\n                <div dangerouslySetInnerHTML={{__html:this.displayShowtimes()}}/>\r\n\r\n                \r\n            </div>\r\n\r\n            // this.displayShowtimes()\r\n\r\n        )\r\n       \r\n\r\n        // this.displayShowtimes()\r\n    }\r\n\r\n\r\n\r\n    getData() {\r\n        var xhr = new XMLHttpRequest()\r\n        var cinema_name = this.state.cinema;\r\n        let urlCinemas = \"https://api.internationalshowtimes.com/v4/cinemas/?apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\r\n        xhr.addEventListener('load', () => {\r\n            // update the state of the component with the result here\r\n            var resp = JSON.parse(xhr.responseText);\r\n            for (let i = 0; i < resp.cinemas.length; i++) {\r\n                var cinema = resp.cinemas[i];\r\n                if (cinema_name.toLowerCase() == cinema.name.toLowerCase()) {\r\n                    this.setState({\r\n                        cinema_id: cinema.id,\r\n                        city_id: cinema.city_id,\r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n            console.log(this.state);\r\n\r\n        })\r\n        xhr.open('GET', urlCinemas)\r\n        xhr.send()\r\n\r\n        var xhr2 = new XMLHttpRequest()\r\n        var city_id = this.state.city_id;\r\n        var movie_id = this.state.movie_id;\r\n\r\n\r\n        let urlShowtimes = \"https://api.internationalshowtimes.com/v4/showtimes?city_ids=\" + city_id + \"&movie_id=\" + movie_id + \"&apikey=5ogMBOJo2nty7v7YNku1eZkxHEAdEJMK\";\r\n        xhr2.addEventListener('load', () => {\r\n            // update the state of the component with the result here\r\n            var result_arr = [];\r\n            var resp = JSON.parse(xhr2.responseText);\r\n            console.log(this.state.cinema_id)\r\n            console.log(movie_id)\r\n            for (let i = 0; i < resp.showtimes.length; i++) {\r\n                var showtime = resp.showtimes[i];\r\n                // console.log(showtime);\r\n                if (showtime.cinema_id == this.state.cinema_id && showtime.movie_id == movie_id) {\r\n                    result_arr.push(showtime);\r\n                }\r\n\r\n\r\n            }\r\n\r\n            console.log(result_arr);\r\n\r\n            this.setState({\r\n                result: result_arr,\r\n            });\r\n\r\n        })\r\n        xhr2.open('GET', urlShowtimes)\r\n        xhr2.send()\r\n\r\n        console.log(this.state);\r\n\r\n\r\n\r\n    }\r\n\r\n    displayShowtimes() {\r\n\r\n        // this.getData();\r\n        let r = this.state.result;\r\n        var test = '';\r\n        var result = \"<table> <tr> <th>S/No</th> <th>Time</th></tr>\";\r\n\r\n        var mresult = \"<Paper className={classes.root}><Table className={classes.table} aria-label='customized table'><TableHead><TableRow>\";\r\n        mresult +=  \"<StyledTableCell>S/No</StyledTableCell>\";\r\n        mresult += \" <StyledTableCell>Showtime</StyledTableCell> </TableRow></TableHead><TableBody>\";\r\n        console.log(r);\r\n        for (let i = 0; i < r.length; i++) {\r\n            result += \"<tr><td>\" + (i + 1) + \"</td><td>\" + r[i].start_at + \"</td></tr>\";\r\n            // mresult += \" <StyledTableRow key=\"+(i+1)+\"><StyledTableCell component='th' scope='row'>\"+(i+1)+\"</StyledTableCell>\";\r\n            // mresult+= \"<StyledTableCell align='right'>\"+r[i].start_at+\"</StyledTableCell>\"\r\n            test += (i+1) +\" \"+ r[i].start_at +\" \";\r\n        }\r\n        result += \"</table>\";\r\n        mresult +=      \"</StyledTableRow>))}</TableBody></Table></Paper>\";\r\n\r\n        // return \"<div id  = 'showtime' dangerouslySetInnerHTML={{__html:\"+result+'}}></div>'\r\n\r\n        return mresult;\r\n\r\n        // this.document.getElementById(\"showtime\").innerHTML = result;\r\n    }\r\n}\r\n\r\nexport default Showtimes;"]},"metadata":{},"sourceType":"module"}