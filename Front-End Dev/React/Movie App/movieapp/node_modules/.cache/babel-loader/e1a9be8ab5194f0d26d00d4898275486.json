{"ast":null,"code":"var _jsxFileName = \"/Users/syukrirahiman/OneDrive - Singapore Management University/React/movieapp/src/Review.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nclass Review extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: \"ok\"\n    };\n    this.onreadystatechange = this.getData.bind(this); // this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData(); // var app = express();\n    // app.use(function (req, res, next) {\n    //     res.header(\"Access-Control-Allow-Origin\", \"*\");\n    //     res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n    //     next();\n    // });\n    // const url = 'http://localhost/Project/review.php';\n    // axios.get(url, {\n    //     imdb_id: 'tt1620981'\n    // })\n    //     .then((response) => {\n    //         console.log(response);\n    //         this.setState({ result: response })\n    //     }, (error) => {\n    //         console.log(error);\n    //     });\n    // axios.get(url).then(response => response.data)\n    // .then((data) => {\n    //   this.setState({ result: data })\n    // //   console.log(this.state.contacts)\n    //  })\n  }\n\n  displayResult() {\n    if (this.state.result.avg_rating) {\n      return this.state.result.avg_rating;\n    }\n  }\n\n  render() {\n    // const test = this.getData;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, this.displayResult(), console.log(this.state.result));\n  }\n\n  getData() {\n    var results = \"nil\";\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n      if (this.readyState == 4 && this.status == 200) {\n        console.log(\"yo\");\n        var dataObj = JSON.parse(this.responseText);\n        console.log(dataObj);\n        results = dataObj;\n        this.setState({\n          result: results\n        });\n      }\n    };\n\n    request.open(\"GET\", \"http://localhost/Project/review.php?imdb_id=tt4154796\", true);\n    request.send();\n  }\n\n}\n\nexport default Review;","map":{"version":3,"sources":["/Users/syukrirahiman/OneDrive - Singapore Management University/React/movieapp/src/Review.js"],"names":["React","axios","Review","Component","constructor","props","state","result","onreadystatechange","getData","bind","componentDidMount","displayResult","avg_rating","render","console","log","results","request","XMLHttpRequest","readyState","status","dataObj","JSON","parse","responseText","setState","open","send"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAAqC;AAEjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE;AADC,KAAb;AAGA,SAAKC,kBAAL,GAA0B,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAA1B,CALe,CAMf;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKF,OAAL,GADgB,CAGhB;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEH;;AAEDG,EAAAA,aAAa,GAAG;AACZ,QAAI,KAAKN,KAAL,CAAWC,MAAX,CAAkBM,UAAtB,EAAkC;AAC9B,aAAO,KAAKP,KAAL,CAAWC,MAAX,CAAkBM,UAAzB;AACH;AACJ;;AACDC,EAAAA,MAAM,GAAG;AAEL;AACA,WAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKF,aAAL,EADL,EAEKG,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWC,MAAvB,CAFL,CAFJ;AAUH;;AAEDE,EAAAA,OAAO,GAAG;AAEN,QAAIQ,OAAO,GAAG,KAAd;AACA,QAAIC,OAAO,GAAG,IAAIC,cAAJ,EAAd;;AACAD,IAAAA,OAAO,CAACV,kBAAR,GAA6B,YAAY;AACrC,UAAI,KAAKY,UAAL,IAAmB,CAAnB,IAAwB,KAAKC,MAAL,IAAe,GAA3C,EAAgD;AAC5CN,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,YAAIM,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAW,KAAKC,YAAhB,CAAd;AACAV,QAAAA,OAAO,CAACC,GAAR,CAAYM,OAAZ;AACAL,QAAAA,OAAO,GAAGK,OAAV;AAEA,aAAKI,QAAL,CAAc;AACVnB,UAAAA,MAAM,EAAEU;AADE,SAAd;AAGH;AACJ,KAXD;;AAYAC,IAAAA,OAAO,CAACS,IAAR,CAAa,KAAb,EAAoB,uDAApB,EAA6E,IAA7E;AACAT,IAAAA,OAAO,CAACU,IAAR;AAIH;;AAnFgC;;AAuFrC,eAAe1B,MAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass Review extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            result: \"ok\",\n        };\n        this.onreadystatechange = this.getData.bind(this);\n        // this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.getData();\n\n        // var app = express();\n\n        // app.use(function (req, res, next) {\n        //     res.header(\"Access-Control-Allow-Origin\", \"*\");\n        //     res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n        //     next();\n        // });\n\n        // const url = 'http://localhost/Project/review.php';\n        // axios.get(url, {\n        //     imdb_id: 'tt1620981'\n        // })\n        //     .then((response) => {\n        //         console.log(response);\n        //         this.setState({ result: response })\n        //     }, (error) => {\n        //         console.log(error);\n        //     });\n\n\n        // axios.get(url).then(response => response.data)\n        // .then((data) => {\n        //   this.setState({ result: data })\n        // //   console.log(this.state.contacts)\n        //  })\n\n    }\n\n    displayResult() {\n        if (this.state.result.avg_rating) {\n            return this.state.result.avg_rating;\n        }\n    }\n    render() {\n\n        // const test = this.getData;\n        return (\n\n            <div>\n                {this.displayResult()}\n                {console.log(this.state.result)}\n                {/* <h1>{this.state.name}</h1> */}\n            </div>\n\n        )\n\n    }\n\n    getData() {\n\n        var results = \"nil\";\n        var request = new XMLHttpRequest();\n        request.onreadystatechange = function () {\n            if (this.readyState == 4 && this.status == 200) {\n                console.log(\"yo\")\n                var dataObj = JSON.parse(this.responseText);\n                console.log(dataObj);\n                results = dataObj;\n\n                this.setState({\n                    result: results\n                })\n            }\n        };\n        request.open(\"GET\", \"http://localhost/Project/review.php?imdb_id=tt4154796\", true);\n        request.send();\n\n\n\n    }\n\n}\n\nexport default Review;"]},"metadata":{},"sourceType":"module"}