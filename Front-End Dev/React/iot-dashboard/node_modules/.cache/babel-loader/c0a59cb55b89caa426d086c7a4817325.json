{"ast":null,"code":"var _jsxFileName = \"/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/src/components/client.js\";\nimport React, { Component } from 'react';\nimport 'firebase/database';\nimport * as firebase from 'firebase/app';\nimport { objectExpression } from '@babel/types';\nimport \"./analysis.css\";\nimport CanvasJSReact from '../assets/canvasjs.react';\nimport { Link, Redirect } from 'react-router-dom';\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nclass Analysis extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      beacon: this.props.location.state.beacon,\n      timelineCount: {\n        seven: 0,\n        eight: 0,\n        nine: 0,\n        ten: 0,\n        eleven: 0,\n        twelve: 0,\n        thirteen: 0,\n        fourteen: 0,\n        fifteen: 0,\n        sixteen: 0,\n        seventeen: 0,\n        nonOperatingHour: 0\n      },\n      closingTime: \"18:00:00\",\n      openingTime: \"07:00:00\"\n    };\n  }\n\n  componentDidMount() {\n    this.generateTimelineCount();\n  }\n\n  generateTimelineCount() {\n    var timeLeftHistory = this.state.beacon.timeLeftHistory;\n    var timelineCount = this.state.timelineCount;\n    var closing = this.state.closingTime;\n    var closingDate = Date.parse(\"01/01/2011 \" + closing);\n    var opening = this.state.openingTime;\n    var openingDate = Date.parse(\"01/01/2011 \" + opening);\n    var eight = \"08:00:00\";\n    var eightDate = Date.parse('01/01/2011 ' + eight);\n    var nine = \"09:00:00\";\n    var nineDate = Date.parse('01/01/2011 ' + nine);\n    var ten = \"10:00:00\";\n    var tenDate = Date.parse('01/01/2011 ' + ten);\n    var eleven = \"11:00:00\";\n    var elevenDate = Date.parse('01/01/2011 ' + eleven);\n    var twelve = \"12:00:00\";\n    var twelveDate = Date.parse('01/01/2011 ' + twelve);\n    var thirteen = \"13:00:00\";\n    var thirteenDate = Date.parse('01/01/2011 ' + thirteen);\n    var fourteen = \"14:00:00\";\n    var fourteenDate = Date.parse('01/01/2011 ' + fourteen);\n    var fifteen = \"15:00:00\";\n    var fifteenDate = Date.parse('01/01/2011 ' + fifteen);\n    var sixteen = \"16:00:00\";\n    var sixteenDate = Date.parse('01/01/2011 ' + sixteen);\n    var seventeen = \"17:00:00\";\n    var seventeenDate = Date.parse('01/01/2011 ' + seventeen);\n    var eightteen = \"18:00:00\";\n    var eightteenDate = Date.parse('01/01/2011 ' + eightteen);\n\n    for (let j = 0; j < timeLeftHistory.length; j++) {\n      var datetimestr = JSON.parse(timeLeftHistory[j]);\n      var datetime = new Date(datetimestr);\n      var time = datetime.toLocaleTimeString(); // console.log(time)\n      //set opening and closing time\n\n      var timeDate = Date.parse(\"01/01/2011 \" + time);\n      console.log(timeDate);\n      console.log(openingDate);\n      console.log(closingDate);\n\n      if (timeDate >= openingDate && timeDate < closingDate) {\n        if (timeDate < eightDate) {\n          timelineCount.seven += 1;\n        } else if (timeDate < nineDate) {\n          timelineCount.eight += 1;\n        } else if (timeDate < tenDate) {\n          timelineCount.nine += 1;\n        } else if (timeDate < elevenDate) {\n          timelineCount.eleven += 1;\n        } else if (timeDate < twelveDate) {\n          timelineCount.eleven += 1;\n        } else if (timeDate < thirteenDate) {\n          timelineCount.twelve += 1;\n        } else if (timeDate < fourteenDate) {\n          timelineCount.thirteen += 1;\n        } else if (timeDate < fifteenDate) {\n          timelineCount.fourteen += 1;\n        } else if (timeDate < sixteenDate) {\n          timelineCount.fifteen += 1;\n        } else if (timeDate < seventeenDate) {\n          timelineCount.sixteen += 1;\n        } else {\n          timelineCount.fifteen += 1;\n        }\n      } else {\n        timelineCount.nonOperatingHour += 1;\n      }\n    }\n\n    this.setState({\n      timelineCount: timelineCount\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"React Line Chart\"));\n  }\n\n}\n\nexport default Analysis;","map":{"version":3,"sources":["/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/src/components/client.js"],"names":["React","Component","firebase","objectExpression","CanvasJSReact","Link","Redirect","CanvasJSChart","Analysis","constructor","props","state","beacon","location","timelineCount","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","nonOperatingHour","closingTime","openingTime","componentDidMount","generateTimelineCount","timeLeftHistory","closing","closingDate","Date","parse","opening","openingDate","eightDate","nineDate","tenDate","elevenDate","twelveDate","thirteenDate","fourteenDate","fifteenDate","sixteenDate","seventeenDate","eightteen","eightteenDate","j","length","datetimestr","JSON","datetime","time","toLocaleTimeString","timeDate","console","log","setState","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'firebase/database';\nimport * as firebase from 'firebase/app'\nimport { objectExpression } from '@babel/types';\nimport \"./analysis.css\"\nimport CanvasJSReact from '../assets/canvasjs.react';\nimport { Link, Redirect } from 'react-router-dom';\n\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart\n\nclass Analysis extends React.Component {\n    constructor(props) {\n        super(props)\n\n\n        this.state = {\n            beacon: this.props.location.state.beacon,\n            timelineCount: {\n                seven: 0,\n                eight: 0,\n                nine: 0,\n                ten: 0,\n                eleven: 0,\n                twelve: 0,\n                thirteen: 0,\n                fourteen: 0,\n                fifteen: 0,\n                sixteen: 0,\n                seventeen: 0,\n                nonOperatingHour: 0,\n\n            },\n            closingTime: \"18:00:00\",\n            openingTime: \"07:00:00\",\n        }\n\n\n\n    }\n\n    componentDidMount() {\n\n        this.generateTimelineCount();\n\n    }\n\n    generateTimelineCount() {\n        var timeLeftHistory = this.state.beacon.timeLeftHistory;\n        var timelineCount = this.state.timelineCount;\n\n\n        var closing = this.state.closingTime;\n        var closingDate = Date.parse(\"01/01/2011 \" + closing);\n\n        var opening = this.state.openingTime;\n        var openingDate = Date.parse(\"01/01/2011 \" + opening);\n    \n\n        var eight = \"08:00:00\";\n        var eightDate = Date.parse('01/01/2011 ' + eight)\n\n        var nine = \"09:00:00\";\n        var nineDate = Date.parse('01/01/2011 ' + nine)\n\n        var ten = \"10:00:00\";\n        var tenDate = Date.parse('01/01/2011 ' + ten)\n\n        var eleven = \"11:00:00\";\n        var elevenDate = Date.parse('01/01/2011 ' + eleven)\n\n        var twelve = \"12:00:00\";\n        var twelveDate = Date.parse('01/01/2011 ' + twelve)\n\n        var thirteen = \"13:00:00\";\n        var thirteenDate = Date.parse('01/01/2011 ' + thirteen)\n\n        var fourteen = \"14:00:00\";\n        var fourteenDate = Date.parse('01/01/2011 ' + fourteen)\n\n        var fifteen = \"15:00:00\";\n        var fifteenDate = Date.parse('01/01/2011 ' + fifteen)\n\n        var sixteen = \"16:00:00\";\n        var sixteenDate = Date.parse('01/01/2011 ' + sixteen)\n\n        var seventeen = \"17:00:00\";\n        var seventeenDate = Date.parse('01/01/2011 ' + seventeen)\n\n        var eightteen = \"18:00:00\";\n        var eightteenDate = Date.parse('01/01/2011 ' + eightteen)\n\n\n\n        for (let j = 0; j < timeLeftHistory.length; j++) {\n            var datetimestr = JSON.parse(timeLeftHistory[j]);\n            var datetime = new Date(datetimestr);\n            var time = datetime.toLocaleTimeString();\n            // console.log(time)\n            \n\n            //set opening and closing time\n\n            var timeDate = Date.parse(\"01/01/2011 \" + time);\n\n            console.log(timeDate);\n            console.log(openingDate);\n            console.log(closingDate);\n            \n\n            if (timeDate >= openingDate && timeDate < closingDate) {\n                if (timeDate < eightDate) {\n                    timelineCount.seven += 1;\n                } else if (timeDate < nineDate) {\n                    timelineCount.eight += 1;\n                } else if (timeDate < tenDate) {\n                    timelineCount.nine += 1;\n                } else if (timeDate < elevenDate) {\n                    timelineCount.eleven += 1;\n                }\n                else if (timeDate < twelveDate) {\n                    timelineCount.eleven += 1;\n                } else if (timeDate < thirteenDate) {\n                    timelineCount.twelve += 1;\n                } else if (timeDate < fourteenDate) {\n                    timelineCount.thirteen += 1;\n                } else if (timeDate < fifteenDate) {\n                    timelineCount.fourteen += 1;\n                } else if (timeDate < sixteenDate) {\n                    timelineCount.fifteen += 1;\n                } else if (timeDate < seventeenDate) {\n                    timelineCount.sixteen += 1;\n                } else {\n                    timelineCount.fifteen += 1;\n                }\n\n\n            } else {\n                timelineCount.nonOperatingHour += 1\n\n            }\n        }\n\n        this.setState({\n            timelineCount: timelineCount,\n        })\n\n\n    }\n\n    render() {\n\n        console.log(this.state)\n\n        return (\n            <div>\n                <h1>React Line Chart</h1>\n         \n                {/*You can get reference to the chart instance as shown above using onRef. This allows you to access all chart properties and methods*/}\n            </div>\n        )\n\n\n    }\n\n\n\n\n}\n\nexport default Analysis"]},"metadata":{},"sourceType":"module"}