{"ast":null,"code":"import _classCallCheck from\"/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'firebase/database';import*as firebase from'firebase/app';import{objectExpression}from'@babel/types';import\"./analysis.css\";import CanvasJSReact from'../assets/canvasjs.react';import{Link,Redirect}from'react-router-dom';import{Table,Jumbotron,Container,Row,Col,Button,Pagination}from'react-bootstrap';var CanvasJSChart=CanvasJSReact.CanvasJSChart;var Analysis=/*#__PURE__*/function(_React$Component){_inherits(Analysis,_React$Component);function Analysis(props){var _this;_classCallCheck(this,Analysis);_this=_possibleConstructorReturn(this,_getPrototypeOf(Analysis).call(this,props));_this.state={beacon:_this.props.location.state.beacon,timelineCount:{seven:0,eight:0,nine:0,ten:0,eleven:0,twelve:0,thirteen:0,fourteen:0,fifteen:0,sixteen:0,seventeen:0,nonOperatingHour:0},closingTime:\"18:00:00\",openingTime:\"07:00:00\",dataGenerated:false};return _this;}_createClass(Analysis,[{key:\"componentDidMount\",value:function componentDidMount(){this.generateTimelineCount();}},{key:\"generateTimelineCount\",value:function generateTimelineCount(){var timeLeftHistory=this.state.beacon.timeLeftHistory;var timelineCount=this.state.timelineCount;var closing=this.state.closingTime;var closingDate=Date.parse(\"01/01/2011 \"+closing);var opening=this.state.openingTime;var openingDate=Date.parse(\"01/01/2011 \"+opening);var eight=\"08:00:00\";var eightDate=Date.parse('01/01/2011 '+eight);var nine=\"09:00:00\";var nineDate=Date.parse('01/01/2011 '+nine);var ten=\"10:00:00\";var tenDate=Date.parse('01/01/2011 '+ten);var eleven=\"11:00:00\";var elevenDate=Date.parse('01/01/2011 '+eleven);var twelve=\"12:00:00\";var twelveDate=Date.parse('01/01/2011 '+twelve);var thirteen=\"13:00:00\";var thirteenDate=Date.parse('01/01/2011 '+thirteen);var fourteen=\"14:00:00\";var fourteenDate=Date.parse('01/01/2011 '+fourteen);var fifteen=\"15:00:00\";var fifteenDate=Date.parse('01/01/2011 '+fifteen);var sixteen=\"16:00:00\";var sixteenDate=Date.parse('01/01/2011 '+sixteen);var seventeen=\"17:00:00\";var seventeenDate=Date.parse('01/01/2011 '+seventeen);var eightteen=\"18:00:00\";var eightteenDate=Date.parse('01/01/2011 '+eightteen);for(var j=0;j<timeLeftHistory.length;j++){var datetimestr=JSON.parse(timeLeftHistory[j]);var datetime=new Date(datetimestr);var time=datetime.toLocaleTimeString();// console.log(time)\n//set opening and closing time\nvar timeDate=Date.parse(\"01/01/2011 \"+time);console.log(timeDate);console.log(openingDate);console.log(closingDate);if(timeDate>=openingDate&&timeDate<closingDate){if(timeDate<eightDate){timelineCount.seven+=1;}else if(timeDate<nineDate){timelineCount.eight+=1;}else if(timeDate<tenDate){timelineCount.nine+=1;}else if(timeDate<elevenDate){timelineCount.eleven+=1;}else if(timeDate<twelveDate){timelineCount.eleven+=1;}else if(timeDate<thirteenDate){timelineCount.twelve+=1;}else if(timeDate<fourteenDate){timelineCount.thirteen+=1;}else if(timeDate<fifteenDate){timelineCount.fourteen+=1;}else if(timeDate<sixteenDate){timelineCount.fifteen+=1;}else if(timeDate<seventeenDate){timelineCount.sixteen+=1;}else{timelineCount.seveteen+=1;}}else{timelineCount.nonOperatingHour+=1;}}this.setState({timelineCount:timelineCount,dataGenerated:true});}},{key:\"render\",value:function render(){console.log(this.state);if(this.state.dataGenerated){var options={animationEnabled:true,exportEnabled:true,theme:\"light2\",// \"light1\", \"dark1\", \"dark2\"\ntitle:{},axisY:{title:\"No. Of Time left\",includeZero:false// suffix: \"%\"\n},axisX:{title:\"Hour\"// prefix: \"W\",\n// interval: 2\n},data:[{type:\"line\",toolTipContent:\"No. of time left at this hour ({label}): {y}\",dataPoints:[{label:\"07:00 to 07:59\",x:7,y:this.state.timelineCount.seven},{label:\"08:00 to 09:59\",x:8,y:this.state.timelineCount.eight},{label:\"09:00 to 09:59\",x:9,y:this.state.timelineCount.nine},{label:\"10:00 to 10:59\",x:10,y:this.state.timelineCount.ten},{label:\"11:00 to 11:59\",x:11,y:this.state.timelineCount.eleven},{label:\"12:00 to 12:59\",x:12,y:this.state.timelineCount.twelve},{label:\"13:00 to 13:59\",x:13,y:this.state.timelineCount.thirteen},{label:\"14:00 to 14:59\",x:14,y:this.state.timelineCount.fourteen},{label:\"15:00 to 15:59\",x:15,y:this.state.timelineCount.fifteen},{label:\"16:00 to 16:59\",x:16,y:this.state.timelineCount.sixteen},{label:\"17:00 to 17:59\",x:17,y:this.state.timelineCount.seventeen}]}]};return React.createElement(\"div\",{style:{width:\"100%\"}},React.createElement(\"h1\",null,\"Total number of time left per hour for \",this.state.beacon.name),React.createElement(CanvasJSChart,{options:options/* onRef={ref => this.chart = ref} */}),React.createElement(\"br\",null),React.createElement(Link,{to:{pathname:\"/analytics\"}},React.createElement(Button,{variant:\"info\"},\"Back\")));}return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Fetching data.... Please wait.  \"),React.createElement(\"div\",{className:\"loader\"}));}}]);return Analysis;}(React.Component);export default Analysis;","map":{"version":3,"sources":["/Users/syukrirahiman/OneDrive - Singapore Management University/React/iot-test/src/components/client.js"],"names":["React","Component","firebase","objectExpression","CanvasJSReact","Link","Redirect","Table","Jumbotron","Container","Row","Col","Button","Pagination","CanvasJSChart","Analysis","props","state","beacon","location","timelineCount","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","nonOperatingHour","closingTime","openingTime","dataGenerated","generateTimelineCount","timeLeftHistory","closing","closingDate","Date","parse","opening","openingDate","eightDate","nineDate","tenDate","elevenDate","twelveDate","thirteenDate","fourteenDate","fifteenDate","sixteenDate","seventeenDate","eightteen","eightteenDate","j","length","datetimestr","JSON","datetime","time","toLocaleTimeString","timeDate","console","log","seveteen","setState","options","animationEnabled","exportEnabled","theme","title","axisY","includeZero","axisX","data","type","toolTipContent","dataPoints","label","x","y","width","name","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'firebase/database';\nimport * as firebase from 'firebase/app'\nimport { objectExpression } from '@babel/types';\nimport \"./analysis.css\"\nimport CanvasJSReact from '../assets/canvasjs.react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Table, Jumbotron, Container, Row, Col, Button, Pagination } from 'react-bootstrap';\n\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart\n\nclass Analysis extends React.Component {\n    constructor(props) {\n        super(props)\n\n\n        this.state = {\n            beacon: this.props.location.state.beacon,\n            timelineCount: {\n                seven: 0,\n                eight: 0,\n                nine: 0,\n                ten: 0,\n                eleven: 0,\n                twelve: 0,\n                thirteen: 0,\n                fourteen: 0,\n                fifteen: 0,\n                sixteen: 0,\n                seventeen: 0,\n                nonOperatingHour: 0,\n\n            },\n            closingTime: \"18:00:00\",\n            openingTime: \"07:00:00\",\n            dataGenerated: false,\n        }\n\n\n\n    }\n\n    componentDidMount() {\n\n        this.generateTimelineCount();\n\n    }\n\n    generateTimelineCount() {\n        var timeLeftHistory = this.state.beacon.timeLeftHistory;\n        var timelineCount = this.state.timelineCount;\n\n\n        var closing = this.state.closingTime;\n        var closingDate = Date.parse(\"01/01/2011 \" + closing);\n\n        var opening = this.state.openingTime;\n        var openingDate = Date.parse(\"01/01/2011 \" + opening);\n\n\n        var eight = \"08:00:00\";\n        var eightDate = Date.parse('01/01/2011 ' + eight)\n\n        var nine = \"09:00:00\";\n        var nineDate = Date.parse('01/01/2011 ' + nine)\n\n        var ten = \"10:00:00\";\n        var tenDate = Date.parse('01/01/2011 ' + ten)\n\n        var eleven = \"11:00:00\";\n        var elevenDate = Date.parse('01/01/2011 ' + eleven)\n\n        var twelve = \"12:00:00\";\n        var twelveDate = Date.parse('01/01/2011 ' + twelve)\n\n        var thirteen = \"13:00:00\";\n        var thirteenDate = Date.parse('01/01/2011 ' + thirteen)\n\n        var fourteen = \"14:00:00\";\n        var fourteenDate = Date.parse('01/01/2011 ' + fourteen)\n\n        var fifteen = \"15:00:00\";\n        var fifteenDate = Date.parse('01/01/2011 ' + fifteen)\n\n        var sixteen = \"16:00:00\";\n        var sixteenDate = Date.parse('01/01/2011 ' + sixteen)\n\n        var seventeen = \"17:00:00\";\n        var seventeenDate = Date.parse('01/01/2011 ' + seventeen)\n\n        var eightteen = \"18:00:00\";\n        var eightteenDate = Date.parse('01/01/2011 ' + eightteen)\n\n\n\n        for (let j = 0; j < timeLeftHistory.length; j++) {\n            var datetimestr = JSON.parse(timeLeftHistory[j]);\n            var datetime = new Date(datetimestr);\n            var time = datetime.toLocaleTimeString();\n            // console.log(time)\n\n\n            //set opening and closing time\n\n            var timeDate = Date.parse(\"01/01/2011 \" + time);\n\n            console.log(timeDate);\n            console.log(openingDate);\n            console.log(closingDate);\n\n\n            if (timeDate >= openingDate && timeDate < closingDate) {\n                if (timeDate < eightDate) {\n                    timelineCount.seven += 1;\n                } else if (timeDate < nineDate) {\n                    timelineCount.eight += 1;\n                } else if (timeDate < tenDate) {\n                    timelineCount.nine += 1;\n                } else if (timeDate < elevenDate) {\n                    timelineCount.eleven += 1;\n                } else if (timeDate < twelveDate) {\n                    timelineCount.eleven += 1;\n                } else if (timeDate < thirteenDate) {\n                    timelineCount.twelve += 1;\n                } else if (timeDate < fourteenDate) {\n                    timelineCount.thirteen += 1;\n                } else if (timeDate < fifteenDate) {\n                    timelineCount.fourteen += 1;\n                } else if (timeDate < sixteenDate) {\n                    timelineCount.fifteen += 1;\n                } else if (timeDate < seventeenDate) {\n                    timelineCount.sixteen += 1;\n                } else {\n                    timelineCount.seveteen += 1;\n                }\n\n\n            } else {\n                timelineCount.nonOperatingHour += 1\n\n            }\n        }\n\n        this.setState({\n            timelineCount: timelineCount,\n            dataGenerated: true,\n        })\n\n\n    }\n\n    render() {\n\n        console.log(this.state)\n\n        if (this.state.dataGenerated) {\n            const options = {\n                animationEnabled: true,\n                exportEnabled: true,\n                theme: \"light2\", // \"light1\", \"dark1\", \"dark2\"\n                title: {\n                    \n                },\n                axisY: {\n                    title: \"No. Of Time left\",\n                    includeZero: false,\n                    // suffix: \"%\"\n                },\n                axisX: {\n                    title: \"Hour\",\n                    // prefix: \"W\",\n                    // interval: 2\n                },\n                data: [{\n                    type: \"line\",\n                    toolTipContent: \"No. of time left at this hour ({label}): {y}\",\n                    dataPoints: [\n                        { label: \"07:00 to 07:59\", x: 7, y: this.state.timelineCount.seven },\n                        { label: \"08:00 to 09:59\",x: 8, y: this.state.timelineCount.eight },\n                        { label: \"09:00 to 09:59\",x: 9, y: this.state.timelineCount.nine },\n                        { label: \"10:00 to 10:59\", x: 10, y: this.state.timelineCount.ten },\n                        { label: \"11:00 to 11:59\", x: 11, y: this.state.timelineCount.eleven },\n                        { label: \"12:00 to 12:59\", x: 12, y: this.state.timelineCount.twelve },\n                        { label: \"13:00 to 13:59\", x: 13, y: this.state.timelineCount.thirteen },\n                        { label: \"14:00 to 14:59\", x: 14, y: this.state.timelineCount.fourteen },\n                        { label: \"15:00 to 15:59\", x: 15, y: this.state.timelineCount.fifteen },\n                        { label: \"16:00 to 16:59\", x: 16, y: this.state.timelineCount.sixteen },\n                        { label: \"17:00 to 17:59\", x: 17, y: this.state.timelineCount.seventeen },\n                  \n                    ]\n                }]\n            }\n\n            return (\n                <div style ={{width: \"100%\"}}>\n                    <h1>Total number of time left per hour for {this.state.beacon.name}</h1>\n                    <CanvasJSChart options={options}\n                    /* onRef={ref => this.chart = ref} */\n                    />\n                    {/*You can get reference to the chart instance as shown above using onRef. This allows you to access all chart properties and methods*/}\n\n                 <br></br>\n                    \n\n                    <Link\n                  to={{\n                    pathname: \"/analytics\"\n               \n                }} >\n                    <Button variant=\"info\" >Back</Button>\n                </Link>\n                </div>\n            )\n\n\n        }\n\n        return (\n            <div>\n                <h1>Fetching data.... Please wait.  </h1>\n                <div className=\"loader\"></div>\n            </div>\n        )\n\n\n    }\n\n\n\n\n}\n\nexport default Analysis"]},"metadata":{},"sourceType":"module"}